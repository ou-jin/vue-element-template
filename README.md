<!DOCTYPE html> <html lang="zh"> <head> <meta charset="utf-8"/> <title>Markdown在线编辑器 - www.MdEditor.com</title> <link rel="shortcut icon" href="https://www.mdeditor.com/images/logos/favicon.ico" type="image/x-icon"/> </head> <body><h1 id="h1-vue-element-template"><a name="vue-element-template" class="reference-link"></a><span class="header-link octicon octicon-link"></span>vue-element-template</h1><h5 id="h5--"><a name="说明：该脚手架提供基于表格数据展示的解决方案，所有交互逻辑封装在黑盒中，开发人员只需关注配置即可完成开发" class="reference-link"></a><span class="header-link octicon octicon-link"></span>说明：该脚手架提供基于表格数据展示的解决方案，所有交互逻辑封装在黑盒中，开发人员只需关注配置即可完成开发</h5><p><img src="http://www.oujin.fun/img/template/template2.png" alt=""><br><img src="http://www.oujin.fun/img/template/template1.png" alt=""> </p><h3 id="h3-u5E38u89C4u914Du7F6E"><a name="常规配置" class="reference-link"></a><span class="header-link octicon octicon-link"></span>常规配置</h3><h4 id="h4--"><a name="路由/侧边栏" class="reference-link"></a><span class="header-link octicon octicon-link"></span>路由/侧边栏</h4><p>路由采取json配置，只需配置好json文件即可<strong>自动生成动态路由与侧边栏</strong><br>由于路由为动态路由所以当需要根据权限信息加载不同的路由信息时，只需要将加载json文件的路径换成后台接口地址即可<br>由于webpack4的性能提升所以默认配置成按需加载<br>相关配置文件路径：<strong>src/route/index.js</strong><br>相关文件代码： </p><pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code class="lang-javascript"><span class="pln">axios</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'../static/json/routeConfig.json'</span><span class="pun">).</span><span class="pln">then</span><span class="pun">((</span><span class="pln">s</span><span class="pun">)=&gt;{</span></code></li><li class="L1"><code class="lang-javascript"><span class="pln"> utils</span><span class="pun">.</span><span class="pln">setStorage</span><span class="pun">(</span><span class="str">'routeList'</span><span class="pun">,</span><span class="pln">s</span><span class="pun">.</span><span class="pln">data</span><span class="pun">.</span><span class="pln">list</span><span class="pun">)</span></code></li><li class="L2"><code class="lang-javascript"><span class="pln"> let list </span><span class="pun">=</span><span class="pln"> routeFactory</span><span class="pun">(</span><span class="pln">s</span><span class="pun">.</span><span class="pln">data</span><span class="pun">.</span><span class="pln">list</span><span class="pun">)</span></code></li><li class="L3"><code class="lang-javascript"><span class="pln"> console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">list</span><span class="pun">)</span></code></li><li class="L4"><code class="lang-javascript"><span class="pln"> vueRouter</span><span class="pun">.</span><span class="pln">addRoutes</span><span class="pun">(</span></code></li><li class="L5"><code class="lang-javascript"><span class="pln"> </span><span class="pun">[{</span></code></li><li class="L6"><code class="lang-javascript"><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'/'</span><span class="pun">,</span></code></li><li class="L7"><code class="lang-javascript"><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'index'</span><span class="pun">,</span></code></li><li class="L8"><code class="lang-javascript"><span class="pln"> component</span><span class="pun">:</span><span class="pln"> resolve</span><span class="pun">=&gt;</span><span class="pln">require</span><span class="pun">([</span><span class="str">"@/views/index/index.vue"</span><span class="pun">],</span><span class="pln"> resolve</span><span class="pun">),</span></code></li><li class="L9"><code class="lang-javascript"><span class="pln"> children</span><span class="pun">:</span><span class="pln">list</span><span class="pun">,</span></code></li><li class="L0"><code class="lang-javascript"><span class="pln"> redirect</span><span class="pun">:</span><span class="pln"> </span><span class="str">'/pageOne'</span><span class="pln"> </span><span class="com">// 默认index重定向到home页面</span></code></li><li class="L1"><code class="lang-javascript"><span class="pln"> </span><span class="pun">}]</span></code></li><li class="L2"><code class="lang-javascript"><span class="pln"> </span><span class="pun">)</span></code></li><li class="L3"><code class="lang-javascript"><span class="pun">})</span></code></li></ol></pre> <h5 id="h5--static-json-routeconfig-json"><a name="配置文件路径: static/json/routeConfig.json" class="reference-link"></a><span class="header-link octicon octicon-link"></span>配置文件路径: static/json/routeConfig.json</h5><h5 id="h5--"><a name="路由配置示例： `" class="reference-link"></a><span class="header-link octicon octicon-link"></span>路由配置示例： `</h5><pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code><span class="str">"list"</span><span class="pun">:[</span></code></li><li class="L1"><code><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code><span class="pln"> </span><span class="str">"url"</span><span class="pun">:</span><span class="str">"/pageOne"</span><span class="pun">,</span></code></li><li class="L3"><code><span class="pln"> </span><span class="str">"meta"</span><span class="pun">:{</span></code></li><li class="L4"><code><span class="pln"> </span><span class="str">"requiresAuth"</span><span class="pun">:</span><span class="kwd">true</span><span class="pun">,</span></code></li><li class="L5"><code><span class="pln"> </span><span class="str">"title"</span><span class="pun">:</span><span class="str">"页面1"</span></code></li><li class="L6"><code><span class="pln"> </span><span class="pun">}</span></code></li><li class="L7"><code><span class="pln"> </span><span class="pun">},</span></code></li><li class="L8"><code><span class="pln"> </span><span class="pun">{</span></code></li><li class="L9"><code><span class="pln"> </span><span class="str">"url"</span><span class="pun">:</span><span class="str">"/pageTwo"</span><span class="pun">,</span></code></li><li class="L0"><code><span class="pln"> </span><span class="str">"meta"</span><span class="pun">:{</span></code></li><li class="L1"><code><span class="pln"> </span><span class="str">"requiresAuth"</span><span class="pun">:</span><span class="kwd">true</span><span class="pun">,</span></code></li><li class="L2"><code><span class="pln"> </span><span class="str">"title"</span><span class="pun">:</span><span class="str">"页面2"</span></code></li><li class="L3"><code><span class="pln"> </span><span class="pun">}</span></code></li><li class="L4"><code><span class="pln"> </span><span class="pun">}</span></code></li><li class="L5"><code><span class="pun">]</span></code></li></ol></pre><p>`</p> <h5 id="h5--src-views-static-icon-"><a name="注意：完成该配置需要在 src/views 中有对应页面文件，static/icon有对应名称的图标" class="reference-link"></a><span class="header-link octicon octicon-link"></span>注意：完成该配置需要在 src/views 中有对应页面文件，static/icon有对应名称的图标</h5><p><img src="http://www.oujin.fun/img/template/3.png" alt=""> </p><h4 id="h4-u56FEu6807"><a name="图标" class="reference-link"></a><span class="header-link octicon octicon-link"></span>图标</h4><p>该项目的图标处理方式为 由 <strong>svg-sprite-loader</strong>自动读取<strong>static/icon</strong>下的所有图标并生成<strong>svg雪碧图</strong>，再由<strong>webpack的requireContext</strong>自动引入，最后只需要将指定目录下的图标名传入全局注册的图标组件<strong>icon-svg</strong>即可生成图标<br><strong>参考</strong>：<a href="https://juejin.im/post/59bb864b5188257e7a427c09">https://juejin.im/post/59bb864b5188257e7a427c09</a></p> <h4 id="h4-u540Eu53F0u4EA4u4E92"><a name="后台交互" class="reference-link"></a><span class="header-link octicon octicon-link"></span>后台交互</h4><p>在 <strong>src/api/apiUrl</strong>下配置<strong>请求对象</strong><br><strong>示例：</strong></p> <pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code class="lang-javascript"><span class="kwd">export</span><span class="pln"> </span><span class="kwd">default</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code class="lang-javascript"><span class="pln"> </span><span class="com">//page-one</span></code></li><li class="L2"><code class="lang-javascript"><span class="pln"> testUrl</span><span class="pun">:{</span><span class="pln">url</span><span class="pun">:</span><span class="str">'url/url'</span><span class="pun">,</span><span class="pln">method</span><span class="pun">:</span><span class="str">'get'</span><span class="pun">},</span></code></li><li class="L3"><code class="lang-javascript"><span class="pln"> </span><span class="com">// page-two</span></code></li><li class="L4"><code class="lang-javascript"><span class="pln"> testUrl2</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> url</span><span class="pun">:</span><span class="pln"> </span><span class="str">'url/url'</span><span class="pun">,</span><span class="pln"> method</span><span class="pun">:</span><span class="pln"> </span><span class="str">'get'</span><span class="pln"> </span><span class="pun">},</span></code></li><li class="L5"><code class="lang-javascript"><span class="pun">}</span></code></li></ol></pre> <p>如需拦截http请求操作<strong>src/api/apoUtil.js/</strong> 即可，<strong>后台数据解析格式需自行按所需修改</strong><br><strong>loading</strong>默认在请求开始时打开loading，在请求结束后关闭，如有需求，请自行修改<br>在进行http请求时调取挂载在vue对象上的http对象传入之前配的请求对象名即可 </p><pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code class="lang-javascript"><span class="kwd">this</span><span class="pun">.</span><span class="pln">http</span><span class="pun">(</span><span class="str">'testUrl'</span><span class="pun">)</span></code></li></ol></pre> <h4 id="h4-u5168u5C40u7EC4u4EF6"><a name="全局组件" class="reference-link"></a><span class="header-link octicon octicon-link"></span>全局组件</h4><p>注册路径:<strong>src/plugins/index.js</strong></p> <h4 id="h4-u5168u5C40u5DE5u5177u7C7B"><a name="全局工具类" class="reference-link"></a><span class="header-link octicon octicon-link"></span>全局工具类</h4><p>在<strong>static/js/utils.js</strong>中添加对应的方法，即可通过<strong>this.fcn</strong>调取</p> <h4 id="h4-u4E3Bu9898"><a name="主题" class="reference-link"></a><span class="header-link octicon octicon-link"></span>主题</h4><p>脚手架提供了12套主题，自行前往<strong>static/element-ui-theme/index</strong>与<strong>/static/scss/_variables.scss</strong>中修改即可<br><strong>参考</strong>：<a href="https://github.com/renrenio/renren-fast-vue">https://github.com/renrenio/renren-fast-vue</a></p> <h4 id="h4--vuex-mixin-scss-reset-"><a name="其他 vuex,mixin,scss reset等等如有需求自行到对应文件路径下配置即可" class="reference-link"></a><span class="header-link octicon octicon-link"></span>其他 vuex,mixin,scss reset等等如有需求自行到对应文件路径下配置即可</h4><p><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i><i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i> <i class="fa fa-chevron-right fa-emoji" title="chevron-right"></i></p> <h3 id="h3--ui-"><a name="特别说明：根据以上常规配置即可完成常规后台管理项目，以下是基于主要用表格进行简单数据展现的一套解决方案，目的是封装通用逻辑代码，只需完成相关配置即可完成页面展示与用户交互以及接口接入等操作，理论上根据说明文档，ui都可以完成项目" class="reference-link"></a><span class="header-link octicon octicon-link"></span>特别说明：根据以上常规配置即可完成常规后台管理项目，以下是基于主要用表格进行简单数据展现的一套解决方案，目的是封装通用逻辑代码，只需完成相关配置即可完成页面展示与用户交互以及接口接入等操作，理论上根据说明文档，ui都可以完成项目</h3><p>在进行管理系统开发时我们大部分时间都是在用表格展示数据，用表单修改提交数据，简单，单调，且重复，代码也臃肿不堪，<br><img src="http://www.oujin.fun/img/bqb/1.jpg" alt=""> </p><p>所以，我们决定从两个方面优化代码</p> <p><strong>一 在页面绘制上，根据vue数据驱动的理念，将所有的页面全部用数据传入对应的组件来达到展示的目的</strong><br><img src="http://www.oujin.fun/img/abs_ui/abs_ui_1.png" alt=""> </p><p>如上图所示表格，我们将其分为 <strong>1上部搜索区域，2右侧编辑区域，3中部数据展示区域 4下部翻页信息区域</strong><br>我们只需对应传入相应区域用于展示的数据即可完成页面绘制，在与后台交互的过程中我们由于vue的数据是双向绑定的，我们只需要将我们绑定的数据与后台进行交互即可 </p><pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code class="lang-javascript"></code></li><li class="L1"><code class="lang-javascript"><span class="pln">let data </span><span class="pun">={</span></code></li><li class="L2"><code class="lang-javascript"><span class="pln"> </span><span class="com">// 表单配置</span></code></li><li class="L3"><code class="lang-javascript"><span class="pln"> formOpt</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L4"><code class="lang-javascript"><span class="pln"> show</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span></code></li><li class="L5"><code class="lang-javascript"><span class="pln"> edit</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span></code></li><li class="L6"><code class="lang-javascript"><span class="pln"> index</span><span class="pun">:</span><span class="lit">0</span><span class="pun">,</span></code></li><li class="L7"><code class="lang-javascript"><span class="pln"> title</span><span class="pun">:</span><span class="pln"> </span><span class="str">'编辑系统参数'</span><span class="pun">,</span></code></li><li class="L8"><code class="lang-javascript"><span class="pln"> width</span><span class="pun">:</span><span class="pln"> </span><span class="str">'30%'</span><span class="pun">,</span></code></li><li class="L9"><code class="lang-javascript"><span class="pln"> formObj</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L0"><code class="lang-javascript"><span class="pln"> edit</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span></code></li><li class="L1"><code class="lang-javascript"><span class="pln"> </span><span class="com">// 表单下部编辑栏参数</span></code></li><li class="L2"><code class="lang-javascript"><span class="pln"> editOpt</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class="pln"> text</span><span class="pun">:</span><span class="pln"> </span><span class="str">'保存'</span><span class="pun">,</span><span class="pln"> fcn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'submit'</span><span class="pun">,</span><span class="pln"> type</span><span class="pun">:</span><span class="pln"> </span><span class="str">"primary"</span><span class="pln"> </span><span class="pun">},{</span><span class="pln"> text</span><span class="pun">:</span><span class="pln"> </span><span class="str">'取消'</span><span class="pun">,</span><span class="pln"> fcn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'close'</span><span class="pun">,</span><span class="pln"> type</span><span class="pun">:</span><span class="pln"> </span><span class="str">"primary"</span><span class="pln"> </span><span class="pun">}],</span></code></li><li class="L3"><code class="lang-javascript"><span class="pln"> labelWidth</span><span class="pun">:</span><span class="pln"> </span><span class="str">'80px'</span><span class="pun">,</span></code></li><li class="L4"><code class="lang-javascript"><span class="pln"> </span><span class="com">// 表单展示参数</span></code></li><li class="L5"><code class="lang-javascript"><span class="pln"> formPage</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span></code></li><li class="L6"><code class="lang-javascript"><span class="pln"> </span><span class="pun">{</span><span class="pln"> type</span><span class="pun">:</span><span class="pln"> </span><span class="str">'input'</span><span class="pun">,</span><span class="pln"> label</span><span class="pun">:</span><span class="pln"> </span><span class="str">'参数1'</span><span class="pun">,</span><span class="pln"> width</span><span class="pun">:</span><span class="pln"> </span><span class="str">'350px'</span><span class="pun">,</span><span class="pln"> prop</span><span class="pun">:</span><span class="pln"> </span><span class="str">'code'</span><span class="pun">,</span><span class="pln"> disabled</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">},</span></code></li><li class="L7"><code class="lang-javascript"><span class="pln"> </span><span class="pun">{</span><span class="pln"> type</span><span class="pun">:</span><span class="pln"> </span><span class="str">'input'</span><span class="pun">,</span><span class="pln"> label</span><span class="pun">:</span><span class="pln"> </span><span class="str">'参数2'</span><span class="pun">,</span><span class="pln"> width</span><span class="pun">:</span><span class="pln"> </span><span class="str">'350px'</span><span class="pun">,</span><span class="pln"> prop</span><span class="pun">:</span><span class="pln"> </span><span class="str">'name'</span><span class="pln"> </span><span class="pun">},</span></code></li><li class="L8"><code class="lang-javascript"><span class="pln"> </span><span class="pun">{</span><span class="pln"> type</span><span class="pun">:</span><span class="pln"> </span><span class="str">'input'</span><span class="pun">,</span><span class="pln"> label</span><span class="pun">:</span><span class="pln"> </span><span class="str">'参数3'</span><span class="pun">,</span><span class="pln"> width</span><span class="pun">:</span><span class="pln"> </span><span class="str">'350px'</span><span class="pun">,</span><span class="pln"> prop</span><span class="pun">:</span><span class="pln"> </span><span class="str">'value'</span><span class="pln"> </span><span class="pun">},</span></code></li><li class="L9"><code class="lang-javascript"><span class="pln"> </span><span class="pun">{</span><span class="pln"> type</span><span class="pun">:</span><span class="pln"> </span><span class="str">'input'</span><span class="pun">,</span><span class="pln"> label</span><span class="pun">:</span><span class="pln"> </span><span class="str">'参数4'</span><span class="pun">,</span><span class="pln"> width</span><span class="pun">:</span><span class="pln"> </span><span class="str">'350px'</span><span class="pun">,</span><span class="pln"> prop</span><span class="pun">:</span><span class="pln"> </span><span class="str">'module'</span><span class="pln"> </span><span class="pun">},</span></code></li><li class="L0"><code class="lang-javascript"><span class="pln"> </span><span class="pun">{</span><span class="pln"> type</span><span class="pun">:</span><span class="pln"> </span><span class="str">'textarea'</span><span class="pun">,</span><span class="pln"> label</span><span class="pun">:</span><span class="pln"> </span><span class="str">'参数5'</span><span class="pun">,</span><span class="pln"> width</span><span class="pun">:</span><span class="pln"> </span><span class="str">'350px'</span><span class="pun">,</span><span class="pln"> prop</span><span class="pun">:</span><span class="pln"> </span><span class="str">'memo'</span><span class="pln"> </span><span class="pun">},</span></code></li><li class="L1"><code class="lang-javascript"><span class="pln"> </span><span class="pun">],</span></code></li><li class="L2"><code class="lang-javascript"><span class="pln"> </span><span class="com">// 表单相互绑定的数据，只需要操作该数据即可完成相关操作</span></code></li><li class="L3"><code class="lang-javascript"><span class="pln"> formParam</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L4"><code class="lang-javascript"><span class="pln"> </span><span class="pun">}</span></code></li><li class="L5"><code class="lang-javascript"><span class="pln"> </span><span class="pun">}</span></code></li><li class="L6"><code class="lang-javascript"><span class="pln"> </span><span class="pun">},</span></code></li><li class="L7"><code class="lang-javascript"><span class="pln"> </span><span class="com">// 表格配置</span></code></li><li class="L8"><code class="lang-javascript"><span class="pln"> tableOpt</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L9"><code class="lang-javascript"><span class="pln"> </span><span class="com">// 是否需要翻页</span></code></li><li class="L0"><code class="lang-javascript"><span class="pln"> pagination</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span></code></li><li class="L1"><code class="lang-javascript"><span class="pln"> </span><span class="com">// 翻页所需参数， 直接通过后台接口赋值，当翻页时直接将该对象传到后台即可</span></code></li><li class="L2"><code class="lang-javascript"><span class="pln"> paginationOpt</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">currentPage</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln">pageSize</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln">totalPages</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln">totalRecords</span><span class="pun">:</span><span class="pln"> </span><span class="lit">20</span><span class="pun">},</span></code></li><li class="L3"><code class="lang-javascript"><span class="pln"> height</span><span class="pun">:</span><span class="pln"> </span><span class="lit">600</span><span class="pun">,</span></code></li><li class="L4"><code class="lang-javascript"><span class="pln"> </span><span class="com">// 是否需要编辑栏</span></code></li><li class="L5"><code class="lang-javascript"><span class="pln"> edit</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span></code></li><li class="L6"><code class="lang-javascript"><span class="pln"> </span><span class="com">// 编辑栏参数</span></code></li><li class="L7"><code class="lang-javascript"><span class="pln"> editOpt</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L8"><code class="lang-javascript"><span class="pln"> width</span><span class="pun">:</span><span class="pln"> </span><span class="str">'100'</span><span class="pun">,</span></code></li><li class="L9"><code class="lang-javascript"><span class="pln"> list</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class="pln"> text</span><span class="pun">:</span><span class="pln"> </span><span class="str">'编辑'</span><span class="pun">,</span><span class="pln"> fcn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'edit'</span><span class="pun">,</span><span class="pln"> type</span><span class="pun">:</span><span class="pln"> </span><span class="str">"primary"</span><span class="pln"> </span><span class="pun">}]</span></code></li><li class="L0"><code class="lang-javascript"><span class="pln"> </span><span class="pun">},</span></code></li><li class="L1"><code class="lang-javascript"><span class="pln"> </span><span class="com">// 渲染表格参数</span></code></li><li class="L2"><code class="lang-javascript"><span class="pln"> table</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span></code></li><li class="L3"><code class="lang-javascript"><span class="pln"> </span><span class="pun">{</span><span class="pln"> label</span><span class="pun">:</span><span class="pln"> </span><span class="str">'参数1'</span><span class="pun">,</span><span class="pln"> prop</span><span class="pun">:</span><span class="pln"> </span><span class="str">'code'</span><span class="pln"> </span><span class="pun">},{</span><span class="pln"> label</span><span class="pun">:</span><span class="pln"> </span><span class="str">'参数2'</span><span class="pun">,</span><span class="pln"> prop</span><span class="pun">:</span><span class="pln"> </span><span class="str">'name'</span><span class="pln"> </span><span class="pun">},</span></code></li><li class="L4"><code class="lang-javascript"><span class="pln"> </span><span class="pun">{</span><span class="pln"> label</span><span class="pun">:</span><span class="pln"> </span><span class="str">'参数3'</span><span class="pun">,</span><span class="pln"> prop</span><span class="pun">:</span><span class="pln"> </span><span class="str">'value'</span><span class="pln"> </span><span class="pun">},{</span><span class="pln"> label</span><span class="pun">:</span><span class="pln"> </span><span class="str">'参数4'</span><span class="pun">,</span><span class="pln"> prop</span><span class="pun">:</span><span class="pln"> </span><span class="str">'module'</span><span class="pln"> </span><span class="pun">},</span></code></li><li class="L5"><code class="lang-javascript"><span class="pln"> </span><span class="pun">{</span><span class="pln"> label</span><span class="pun">:</span><span class="pln"> </span><span class="str">'参数5'</span><span class="pun">,</span><span class="pln"> prop</span><span class="pun">:</span><span class="pln"> </span><span class="str">'memo'</span><span class="pln"> </span><span class="pun">}],</span></code></li><li class="L6"><code class="lang-javascript"><span class="pln"> </span><span class="com">// 表格上部搜索栏所需参数，其实就是表单组件</span></code></li><li class="L7"><code class="lang-javascript"><span class="pln"> tableSearch</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L8"><code class="lang-javascript"><span class="pln"> </span><span class="kwd">inline</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span></code></li><li class="L9"><code class="lang-javascript"><span class="pln"> formParam</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{},</span></code></li><li class="L0"><code class="lang-javascript"><span class="pln"> edit</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span></code></li><li class="L1"><code class="lang-javascript"><span class="pln"> editOpt</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class="pln"> text</span><span class="pun">:</span><span class="pln"> </span><span class="str">'搜索'</span><span class="pun">,</span><span class="pln"> fcn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'search'</span><span class="pun">,</span><span class="pln"> type</span><span class="pun">:</span><span class="pln"> </span><span class="str">"primary"</span><span class="pln"> </span><span class="pun">}],</span></code></li><li class="L2"><code class="lang-javascript"><span class="pln"> formPage</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span></code></li><li class="L3"><code class="lang-javascript"><span class="pln"> </span><span class="pun">{</span><span class="pln"> width</span><span class="pun">:</span><span class="pln"> </span><span class="str">"280px"</span><span class="pun">,</span><span class="pln">label</span><span class="pun">:</span><span class="pln"> </span><span class="str">'参数1'</span><span class="pun">,</span><span class="pln">prop</span><span class="pun">:</span><span class="str">'code'</span><span class="pun">,</span><span class="pln">type</span><span class="pun">:</span><span class="pln"> </span><span class="str">'input'</span><span class="pun">},</span></code></li><li class="L4"><code class="lang-javascript"><span class="pln"> </span><span class="pun">{</span><span class="pln">width</span><span class="pun">:</span><span class="pln"> </span><span class="str">"280px"</span><span class="pun">,</span><span class="pln">label</span><span class="pun">:</span><span class="pln"> </span><span class="str">'参数2'</span><span class="pun">,</span><span class="pln">prop</span><span class="pun">:</span><span class="str">'name'</span><span class="pun">,</span><span class="pln">type</span><span class="pun">:</span><span class="pln"> </span><span class="str">'input'</span><span class="pun">}</span></code></li><li class="L5"><code class="lang-javascript"><span class="pln"> </span><span class="pun">]</span></code></li><li class="L6"><code class="lang-javascript"><span class="pln"> </span><span class="pun">},</span></code></li><li class="L7"><code class="lang-javascript"><span class="pln"> </span><span class="com">// 表格相互绑定的数据，只需要操作该数据即可完成相关操作</span></code></li><li class="L8"><code class="lang-javascript"><span class="pln"> tableData</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span></code></li><li class="L9"><code class="lang-javascript"><span class="pln"> </span><span class="pun">{</span><span class="str">'code'</span><span class="pun">:</span><span class="str">'123'</span><span class="pun">,</span><span class="str">'name'</span><span class="pun">:</span><span class="str">'123'</span><span class="pun">,</span><span class="str">'value'</span><span class="pun">:</span><span class="str">'123'</span><span class="pun">,</span><span class="str">'module'</span><span class="pun">:</span><span class="str">'123'</span><span class="pun">,</span><span class="str">'memo'</span><span class="pun">:</span><span class="str">'123'</span><span class="pun">},</span></code></li><li class="L0"><code class="lang-javascript"><span class="pln"> </span><span class="pun">{</span><span class="str">'code'</span><span class="pun">:</span><span class="str">'123'</span><span class="pun">,</span><span class="str">'name'</span><span class="pun">:</span><span class="str">'123'</span><span class="pun">,</span><span class="str">'value'</span><span class="pun">:</span><span class="str">'123'</span><span class="pun">,</span><span class="str">'module'</span><span class="pun">:</span><span class="str">'123'</span><span class="pun">,</span><span class="str">'memo'</span><span class="pun">:</span><span class="str">'123'</span><span class="pun">},</span></code></li><li class="L1"><code class="lang-javascript"><span class="pln"> </span><span class="pun">{</span><span class="str">'code'</span><span class="pun">:</span><span class="str">'123'</span><span class="pun">,</span><span class="str">'name'</span><span class="pun">:</span><span class="str">'123'</span><span class="pun">,</span><span class="str">'value'</span><span class="pun">:</span><span class="str">'123'</span><span class="pun">,</span><span class="str">'module'</span><span class="pun">:</span><span class="str">'123'</span><span class="pun">,</span><span class="str">'memo'</span><span class="pun">:</span><span class="str">'123'</span><span class="pun">},</span></code></li><li class="L2"><code class="lang-javascript"><span class="pln"> </span><span class="pun">{</span><span class="str">'code'</span><span class="pun">:</span><span class="str">'123'</span><span class="pun">,</span><span class="str">'name'</span><span class="pun">:</span><span class="str">'123'</span><span class="pun">,</span><span class="str">'value'</span><span class="pun">:</span><span class="str">'123'</span><span class="pun">,</span><span class="str">'module'</span><span class="pun">:</span><span class="str">'123'</span><span class="pun">,</span><span class="str">'memo'</span><span class="pun">:</span><span class="str">'123'</span><span class="pun">},</span></code></li><li class="L3"><code class="lang-javascript"><span class="pln"> </span><span class="pun">{</span><span class="str">'code'</span><span class="pun">:</span><span class="str">'123'</span><span class="pun">,</span><span class="str">'name'</span><span class="pun">:</span><span class="str">'123'</span><span class="pun">,</span><span class="str">'value'</span><span class="pun">:</span><span class="str">'123'</span><span class="pun">,</span><span class="str">'module'</span><span class="pun">:</span><span class="str">'123'</span><span class="pun">,</span><span class="str">'memo'</span><span class="pun">:</span><span class="str">'123'</span><span class="pun">},</span></code></li><li class="L4"><code class="lang-javascript"><span class="pln"> </span><span class="pun">]</span></code></li><li class="L5"><code class="lang-javascript"><span class="pln"> </span><span class="pun">}</span></code></li><li class="L6"><code class="lang-javascript"><span class="pun">}</span></code></li><li class="L7"><code class="lang-javascript"><span class="kwd">export</span><span class="pln"> </span><span class="kwd">default</span><span class="pln"> data</span></code></li></ol></pre> <p><strong>二：关于页面中click ,select ,change 等事件的处理。所有的事件均传递到最外层父组件也就是页面组件上处理只需要将函数名传入子组件，已经在父组件声明该事件即可</strong><br>例： </p><pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code class="lang-javascript"><span class="pln"> </span><span class="com">// 编辑栏参数</span></code></li><li class="L1"><code class="lang-javascript"><span class="pln"> editOpt</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code class="lang-javascript"><span class="pln"> width</span><span class="pun">:</span><span class="pln"> </span><span class="str">'100'</span><span class="pun">,</span></code></li><li class="L3"><code class="lang-javascript"><span class="pln"> list</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class="pln"> text</span><span class="pun">:</span><span class="pln"> </span><span class="str">'编辑'</span><span class="pun">,</span><span class="pln"> fcn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'edit'</span><span class="pun">,</span><span class="pln"> type</span><span class="pun">:</span><span class="pln"> </span><span class="str">"primary"</span><span class="pln"> </span><span class="pun">}]</span></code></li><li class="L4"><code class="lang-javascript"><span class="pln"> </span><span class="pun">},</span></code></li></ol></pre> <pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code class="lang-javascript"><span class="lit">@edit</span><span class="pun">=</span><span class="str">"(index)=&gt;{this.edit({'type':'','index':index})}"</span></code></li></ol></pre> <pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code class="lang-javascript"><span class="pln"> methods</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code class="lang-javascript"><span class="pln"> edit</span><span class="pun">(</span><span class="pln">obt</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code class="lang-javascript"><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">tep</span><span class="pun">.</span><span class="pln">edit</span><span class="pun">.</span><span class="pln">call</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">,</span><span class="pln"> obt</span><span class="pun">)</span></code></li><li class="L3"><code class="lang-javascript"><span class="pln"> </span><span class="pun">},</span></code></li></ol></pre> <p><strong>三 ：将通用逻辑进行抽象封装生成一个抽象类挂载在vue对象上方便调用，通过call改变抽象类中的this指向，使其指向当前vue示例。<br>又因为根据上一步所说，所有页面的数据格式理论上都是类似的，也就是说只要通过表格名.tableData都是可以调取到该表格所绑定的数据，用该数据即可与后台进行交互，同时将交互完成后的回调函数传入执行，即可满足每个页面的不同需求</strong></p><strong> <h6 id="h6--src-factory-fcntemplate"><a name="抽象类路径 src/factory/fcnTemplate" class="reference-link"></a><span class="header-link octicon octicon-link"></span>抽象类路径 src/factory/fcnTemplate</h6><p>直接通过 <strong>this.tep.方法名</strong>调用即可</p> <h6 id="h6--api-"><a name="抽象类api说明" class="reference-link"></a><span class="header-link octicon octicon-link"></span>抽象类api说明</h6><p>方法名：getData<br>说明:获取后台数据将其赋值给带翻页栏的表格 </p><table> <thead> <tr> <th>fcn</th> <th>请求后台接口的对象名(不是url,具体请看上部分的说明)</th> </tr> </thead> <tbody> <tr> <td>obj</td> <td>用于后台交互的数据</td> </tr> <tr> <td>type</td> <td>标识</td> </tr> </tbody> </table> <p>方法名：getDataNopagina<br>说明:获取后台数据将其赋值给<strong>不</strong>带翻页栏的表格</p> <table> <thead> <tr> <th>fcn</th> <th>请求后台接口的对象名</th> </tr> </thead> <tbody> <tr> <td>obj</td> <td>用于后台交互的数据</td> </tr> <tr> <td>type</td> <td>标识</td> </tr> </tbody> </table> <p>方法名：edit<br>说明:表格上打开编辑表单（附带信息的表单） </p><table> <thead> <tr> <th>index</th> <th>表格数据索引</th> </tr> </thead> <tbody> <tr> <td>type</td> <td>标识</td> </tr> </tbody> </table> <p>方法名：edit<br>说明:表格上打开新增表单 </p><table> <thead> <tr> <th>type</th> <th>标识</th> </tr> </thead> <tbody> <tr> <td></td> </tr> </tbody> </table> <p>方法名：submit<br>说明:提交表单 </p><table> <thead> <tr> <th>addfcn</th> <th>新增接口对象名</th> </tr> </thead> <tbody> <tr> <td>editfcn</td> <td>编辑修改接口对象名</td> </tr> <tr> <td>type</td> <td>标识</td> </tr> <tr> <td>obj</td> <td>默认以表单所绑定的数据为与后台交互的数据，当obj不为空时将把obj内的数据添加进去注意如果obj内的数据参数名重合将会覆盖</td> </tr> </tbody> </table> <p>方法名：del<br>说明:删除表格某行数据 </p><table> <thead> <tr> <th>fcn</th> <th>接口对象名</th> </tr> </thead> <tbody> <tr> <td>index</td> <td>表格数据索引</td> </tr> <tr> <td>type</td> <td>标识</td> </tr> <tr> <td>obj</td> <td>默认以表格数据索引所绑定的数据为与后台交互的数据，当obj不为空时将把obj内的数据添加进去注意如果obj内的数据参数名重合将会覆盖</td> </tr> </tbody> </table> <p>方法名：event<br>说明:主要用于触发后台事件并刷新页面 </p><table> <thead> <tr> <th>fcn</th> <th>接口对象名</th> </tr> </thead> <tbody> <tr> <td>index</td> <td>表格数据索引</td> </tr> <tr> <td>callback</td> <td>执行完成后的回调函数</td> </tr> <tr> <td>type</td> <td>标识</td> </tr> <tr> <td>obj</td> <td>默认以表格数据索引所绑定的数据为与后台交互的数据，当obj不为空时将把obj内的数据添加进去注意如果obj内的数据参数名重合将会覆盖</td> </tr> </tbody> </table> <p>调用示例</p> <pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code class="lang-javascript"><span class="pln"> getData</span><span class="pun">(</span><span class="pln">obt</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code class="lang-javascript"><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">tep</span><span class="pun">.</span><span class="pln">getData</span><span class="pun">.</span><span class="pln">call</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="str">'type'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'main'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'fcn'</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> </span><span class="str">'obj'</span><span class="pun">:</span><span class="pln"> obt </span><span class="pun">})</span></code></li><li class="L2"><code class="lang-javascript"><span class="pln"> </span><span class="pun">},</span></code></li><li class="L3"><code class="lang-javascript"><span class="pln"> getDataNopagina</span><span class="pun">(</span><span class="pln">obt</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L4"><code class="lang-javascript"><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">tep</span><span class="pun">.</span><span class="pln">getDataNopagina</span><span class="pun">.</span><span class="pln">call</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="str">'type'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'second'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'fcn'</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> </span><span class="str">'obj'</span><span class="pun">:</span><span class="pln"> obt </span><span class="pun">})</span></code></li><li class="L5"><code class="lang-javascript"><span class="pln"> </span><span class="pun">},</span></code></li><li class="L6"><code class="lang-javascript"><span class="pln"> </span><span class="com">// 上部表格行点击</span></code></li><li class="L7"><code class="lang-javascript"><span class="pln"> itemClick</span><span class="pun">(</span><span class="pln">i</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L8"><code class="lang-javascript"><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">selectedOpt </span><span class="pun">=</span><span class="pln"> i</span></code></li><li class="L9"><code class="lang-javascript"><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">getDataNopagina</span><span class="pun">(</span><span class="pln">i</span><span class="pun">)</span></code></li><li class="L0"><code class="lang-javascript"><span class="pln"> </span><span class="pun">},</span></code></li><li class="L1"><code class="lang-javascript"><span class="pln"> secondSearch</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code class="lang-javascript"><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">selectedOpt</span><span class="pun">.</span><span class="pln">param1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3"><code class="lang-javascript"><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">$message</span><span class="pun">(</span><span class="str">'请先选择项'</span><span class="pun">)</span></code></li><li class="L4"><code class="lang-javascript"><span class="pln"> </span><span class="kwd">return</span></code></li><li class="L5"><code class="lang-javascript"><span class="pln"> </span><span class="pun">}</span></code></li><li class="L6"><code class="lang-javascript"><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">getDataNopagina</span><span class="pun">(</span><span class="typ">Object</span><span class="pun">.</span><span class="pln">assign</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">selectedOpt</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">secondTableOpt</span><span class="pun">.</span><span class="pln">tableSearch</span><span class="pun">.</span><span class="pln">formParam</span><span class="pun">))</span></code></li><li class="L7"><code class="lang-javascript"><span class="pln"> </span><span class="pun">},</span></code></li><li class="L8"><code class="lang-javascript"><span class="pln"> add</span><span class="pun">(</span><span class="pln">str</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L9"><code class="lang-javascript"><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">selectedOpt</span><span class="pun">.</span><span class="pln">param1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L0"><code class="lang-javascript"><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">$message</span><span class="pun">(</span><span class="str">'请先选择项'</span><span class="pun">)</span></code></li><li class="L1"><code class="lang-javascript"><span class="pln"> </span><span class="kwd">return</span></code></li><li class="L2"><code class="lang-javascript"><span class="pln"> </span><span class="pun">}</span></code></li><li class="L3"><code class="lang-javascript"><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">tep</span><span class="pun">.</span><span class="pln">add</span><span class="pun">.</span><span class="pln">call</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">,</span><span class="pln"> str</span><span class="pun">)</span></code></li><li class="L4"><code class="lang-javascript"><span class="pln"> </span><span class="pun">},</span></code></li><li class="L5"><code class="lang-javascript"><span class="pln"> edit</span><span class="pun">(</span><span class="pln">obt</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L6"><code class="lang-javascript"><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">tep</span><span class="pun">.</span><span class="pln">edit</span><span class="pun">.</span><span class="pln">call</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">,</span><span class="pln"> obt</span><span class="pun">)</span></code></li><li class="L7"><code class="lang-javascript"><span class="pln"> </span><span class="pun">},</span></code></li><li class="L8"><code class="lang-javascript"><span class="pln"> submit</span><span class="pun">(</span><span class="pln">obt</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L9"><code class="lang-javascript"><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">tep</span><span class="pun">.</span><span class="pln">submit</span><span class="pun">.</span><span class="pln">call</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Object</span><span class="pun">.</span><span class="pln">assign</span><span class="pun">(</span><span class="pln">obt</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="str">'obj'</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="str">'param1'</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">selectedOpt</span><span class="pun">.</span><span class="pln">param1</span><span class="pun">}}))</span></code></li><li class="L0"><code class="lang-javascript"><span class="pln"> </span><span class="pun">},</span></code></li><li class="L1"><code class="lang-javascript"><span class="pln"> del</span><span class="pun">(</span><span class="pln">obt</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code class="lang-javascript"><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">tep</span><span class="pun">.</span><span class="pln">event</span><span class="pun">.</span><span class="pln">call</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Object</span><span class="pun">.</span><span class="pln">assign</span><span class="pun">(</span><span class="pln">obt</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="str">'obj'</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="str">'param1'</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">selectedOpt</span><span class="pun">.</span><span class="pln">param1</span><span class="pun">}}))</span></code></li><li class="L3"><code class="lang-javascript"><span class="pln"> </span><span class="pun">}</span></code></li></ol></pre> </strong></body> </html>
